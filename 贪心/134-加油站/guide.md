# 134. 加油站

## 题目描述

在一条环路上有 `n` 个加油站，其中第 `i` 个加油站有汽油 `gas[i]` 升。
你有一辆油箱容量无限的汽车，从第 `i` 个加油站开往第 `i+1` 个加油站需要消耗汽油 `cost[i]` 升。你从其中的一个加油站出发，开始时油箱为空。

给定两个整数数组 `gas` 和 `cost` ，如果你可以绕环路行驶一周，则返回出发时加油站的编号，否则返回 `-1` 。如果存在解，则 **保证** 它是 **唯一** 的。

**示例 1:**
```
输入: gas = [1,2,3,4,5], cost = [3,4,5,1,2]
输出: 3
解释:
从 3 号加油站(索引为 3 处)出发，可获得 4 升汽油。此时油箱有 = 0 + 4 = 4 升汽油
开往 4 号加油站，此时油箱有 4 - 1 + 5 = 8 升汽油
开往 0 号加油站，此时油箱有 8 - 2 + 1 = 7 升汽油
开往 1 号加油站，此时油箱有 7 - 3 + 2 = 6 升汽油
开往 2 号加油站，此时油箱有 6 - 4 + 3 = 5 升汽油
开往 3 号加油站，你需要消耗 5 升汽油，正好足够你返回到 3 号加油站。
因此，3 可为起始索引。
```

---

## 解法：贪心算法

### 核心思路
这道题有两个关键点：
1. **总油量判断**：如果 `sum(gas) < sum(cost)`，那么无论从哪里出发，都不可能跑完一圈，直接返回 -1。
2. **寻找起点**：
   - 我们维护一个 `current_tank` 变量，表示从当前起点出发后的油箱余额。
   - 如果 `current_tank < 0`，说明**从上一个起点到当前位置中间的任何一个点都不能作为起点**。
   - 为什么？假设起点是 A，走到 B 时油量不够了。那么在 A 和 B 之间任取一点 C，从 A 到 C 我们是能走到的（说明油量 >= 0），所以从 C 出发的话，初始油量是 0，肯定比从 A 出发到了 C 剩余的油量（>= 0）要少。既然从 A 出发带着积蓄都走不到 B，从 C 出发白手起家更走不到 B。
   - 所以，一旦 `current_tank < 0`，我们就把起点重置为 `i + 1`，并将 `current_tank` 清零。

### 算法流程
1. 初始化 `total_tank = 0`，`current_tank = 0`，`start_index = 0`。
2. 遍历所有加油站 `i`：
   - 更新 `total_tank += gas[i] - cost[i]`。
   - 更新 `current_tank += gas[i] - cost[i]`。
   - 如果 `current_tank < 0`：
     - 说明 `start_index` 到 `i` 之间都无法作为起点。
     - 将起点重置为 `i + 1`。
     - 重置 `current_tank = 0`。
3. 遍历结束后，如果 `total_tank < 0`，返回 -1；否则返回 `start_index`。

### 图解
```
gas  = [1, 2, 3, 4, 5]
cost = [3, 4, 5, 1, 2]
diff = [-2,-2,-2, 3, 3]

i=0: curr=-2 < 0 -> start=1, curr=0
i=1: curr=-2 < 0 -> start=2, curr=0
i=2: curr=-2 < 0 -> start=3, curr=0
i=3: curr=3 >= 0
i=4: curr=3+3=6 >= 0

total = -2-2-2+3+3 = 0 >= 0
return 3
```
