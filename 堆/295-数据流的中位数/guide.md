# 295. 数据流的中位数

## 题目描述

**中位数**是有序整数列表中间的那个数。如果列表的大小是偶数，则没有中间的数，中位数是两个中间数的平均值。

实现 `MedianFinder` 类:
- `void addNum(int num)` 将数据流中的整数 `num` 添加到数据结构中。
- `double findMedian()` 返回到目前为止所有元素的中位数。

---

## 解法：双堆（对顶堆）

### 核心思路
为了快速找到中位数，我们需要快速访问中间的数。
我们可以将数据流分为两部分：**左半边（较小值）**和**右半边（较大值）**。
- 左半边用**大顶堆**维护，这样堆顶就是左半边的最大值。
- 右半边用**小顶堆**维护，这样堆顶就是右半边的最小值。

只要我们保证：
1. **左半边的所有数 <= 右半边的所有数**。
2. **两个堆的大小差不超过 1**（例如左边比右边多 1 个，或者相等）。

那么中位数就可以直接从两个堆顶算出：
- 如果元素总数是奇数，中位数就是元素较多的那个堆的堆顶。
- 如果元素总数是偶数，中位数就是两个堆顶的平均值。

### 复杂度
- 时间复杂度：插入 O(log N)，查询 O(1)。
- 空间复杂度：O(N)。
