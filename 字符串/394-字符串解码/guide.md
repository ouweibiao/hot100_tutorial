# 394. 字符串解码

## 题目描述

给定一个经过编码的字符串，返回它解码后的字符串。

编码规则为: `k[encoded_string]`，表示其中方括号内部的 `encoded_string` 正好重复 `k` 次。注意 `k` 保证为正整数。

你可以认为输入字符串总是有效的；输入字符串中没有额外的空格，且输入的方括号总是符合格式要求的。

此外，你可以认为原始数据不包含数字，所有的数字只表示重复的次数 `k` ，例如不会出现像 `3a` 或 `2[4]` 的输入。

**示例 1：**
```
输入：s = "3[a]2[bc]"
输出："aaabcbc"
```

**示例 2：**
```
输入：s = "3[a2[c]]"
输出："accaccacc"
```

## 解题思路

### 方法一：辅助栈 (Stack) —— 推荐
- 本题涉及**括号匹配**和**嵌套**，典型的栈应用场景。
- 我们需要两个栈：
  1. `numStack`：存倍数 `k`。
  2. `strStack`：存当前括号外的字符串 `res`。
- **遍历流程**：
  1. 遇到**数字**：解析出完整的数字 `multi` (可能是多位数)。
  2. 遇到 `'['`：
     - 把当前的 `multi` 压入 `numStack`。
     - 把当前的 `res` 压入 `strStack`。
     - 重置 `multi = 0`，`res = ""`。
  3. 遇到**字母**：直接追加到 `res`。
  4. 遇到 `']'`：
     - 此时 `res` 是括号内的字符串。
     - 弹出 `numStack` 的栈顶数字 `cur_multi`。
     - 弹出 `strStack` 的栈顶字符串 `last_res`。
     - `res = last_res + cur_multi * res`。
- **复杂度**：O(N)。

### 方法二：递归 (Recursion)
- 既然是嵌套结构，也可以用递归解决。
- `decode(s, i)`：从索引 `i` 开始解码。
- 遇到 `[` 递归调用，遇到 `]` 返回。
- 逻辑与栈类似，但利用系统调用栈。

## 总结
栈的解法更直观，适合面试现场手写。
