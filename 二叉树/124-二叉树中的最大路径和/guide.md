# 124. 二叉树中的最大路径和

## 题目描述

二叉树中的 **路径** 被定义为一条节点序列，序列中每对相邻节点之间都存在一条边。同一个节点在一条路径序列中 **至多出现一次** 。该路径 **至少包含一个** 节点，且不一定经过根节点。

**路径和** 是路径中各节点值的总和。

给你一个二叉树的根节点 `root` ，返回其 **最大路径和** 。

**示例 1:**
```
   -10
   /  \
  9   20
     /  \
    15   7
```
输入：root = [-10,9,20,15,7]
输出：42 (15 -> 20 -> 7)

## 解题思路

### 方法：DFS (后序遍历)
- 这道题和 [543. 二叉树的直径](../543-二叉树的直径/guide.md) 非常像。
- **关键点**：
  - 定义函数 `maxGain(node)`：计算以 `node` 为起点，向下的最大路径和（只能选左边或右边一条路，或者只选自己）。
  - `maxGain(node) = node->val + max(maxGain(left), maxGain(right))`。
  - **注意**：如果子树的贡献是负数，我们可以选择不走那条路（即贡献为 0）。
- **更新全局答案**：
  - 在每个节点，我们尝试计算"穿过当前节点"的路径和：
  - `priceNewPath = node->val + max(0, leftGain) + max(0, rightGain)`。
  - 用这个值更新全局最大值 `maxSum`。
- **返回值**：
  - 返回 `node->val + max(0, max(leftGain, rightGain))` 给父节点使用。

## 复杂度
- 时间复杂度：O(N)。
- 空间复杂度：O(H)。
