# 72. ç¼–è¾‘è·ç¦»

## é¢˜ç›®æè¿°

ç»™ä½ ä¸¤ä¸ªå•è¯ `word1` å’Œ `word2`ï¼Œè¯·è¿”å›å°† `word1` è½¬æ¢æˆ `word2` æ‰€ä½¿ç”¨çš„**æœ€å°‘æ“ä½œæ•°**ã€‚

ä½ å¯ä»¥å¯¹ä¸€ä¸ªå•è¯è¿›è¡Œå¦‚ä¸‹ä¸‰ç§æ“ä½œï¼š
1. **æ’å…¥**ä¸€ä¸ªå­—ç¬¦
2. **åˆ é™¤**ä¸€ä¸ªå­—ç¬¦
3. **æ›¿æ¢**ä¸€ä¸ªå­—ç¬¦

**ç¤ºä¾‹ 1ï¼š**
```
è¾“å…¥ï¼šword1 = "horse", word2 = "ros"
è¾“å‡ºï¼š3
è§£é‡Šï¼š
horse -> rorse (å°† 'h' æ›¿æ¢ä¸º 'r')
rorse -> rose (åˆ é™¤ 'r')
rose -> ros (åˆ é™¤ 'e')
```

**ç¤ºä¾‹ 2ï¼š**
```
è¾“å…¥ï¼šword1 = "intention", word2 = "execution"
è¾“å‡ºï¼š5
è§£é‡Šï¼š
intention -> inention (åˆ é™¤ 't')
inention -> enention (å°† 'i' æ›¿æ¢ä¸º 'e')
enention -> exention (å°† 'n' æ›¿æ¢ä¸º 'x')
exention -> exection (å°† 'n' æ›¿æ¢ä¸º 'c')
exection -> execution (æ’å…¥ 'u')
```

**æç¤ºï¼š**
- `0 <= word1.length, word2.length <= 500`
- `word1` å’Œ `word2` ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ

---

## C++åŸºç¡€çŸ¥è¯†

### 1. stringæ“ä½œ
```cpp
// è·å–é•¿åº¦
string s = "hello";
int len = s.size();  // æˆ– s.length()

// è®¿é—®å­—ç¬¦
char c = s[0];       // 'h'
char last = s[len-1]; // 'o'

// æ¯”è¾ƒå­—ç¬¦
if (s[i] == s[j]) { }
```

### 2. äºŒç»´vectorï¼ˆDPè¡¨ï¼‰
```cpp
// å®šä¹‰äºŒç»´vector
int m = 3, n = 4;
vector<vector<int>> dp(m, vector<int>(n, 0));

// è®¿é—®
dp[i][j] = 10;

// éå†
for (int i = 0; i < m; i++) {
    for (int j = 0; j < n; j++) {
        cout << dp[i][j] << " ";
    }
}
```

### 3. minå‡½æ•°
```cpp
#include <algorithm>
using namespace std;

// ä¸¤ä¸ªæ•°çš„æœ€å°å€¼
int minVal = min(a, b);

// ä¸‰ä¸ªæ•°çš„æœ€å°å€¼
int minVal = min({a, b, c});  // C++11

// æˆ–è€…
int minVal = min(a, min(b, c));
```

---

## è§£æ³•ï¼šåŠ¨æ€è§„åˆ’

### æ€è·¯

**çŠ¶æ€å®šä¹‰**ï¼š
```
dp[i][j] è¡¨ç¤º word1 çš„å‰ i ä¸ªå­—ç¬¦è½¬æ¢æˆ word2 çš„å‰ j ä¸ªå­—ç¬¦æ‰€éœ€çš„æœ€å°‘æ“ä½œæ•°
```

**çŠ¶æ€è½¬ç§»**ï¼š

å¯¹äº `word1[i-1]` å’Œ `word2[j-1]`ï¼š

**æƒ…å†µ1ï¼šå­—ç¬¦ç›¸åŒ**ï¼ˆ`word1[i-1] == word2[j-1]`ï¼‰
```cpp
dp[i][j] = dp[i-1][j-1];  // ä¸éœ€è¦æ“ä½œ
```

**æƒ…å†µ2ï¼šå­—ç¬¦ä¸åŒ**ï¼Œæœ‰ä¸‰ç§é€‰æ‹©ï¼š
```cpp
1. æ›¿æ¢ï¼šdp[i][j] = dp[i-1][j-1] + 1
   å°† word1[i-1] æ›¿æ¢ä¸º word2[j-1]

2. åˆ é™¤ï¼šdp[i][j] = dp[i-1][j] + 1
   åˆ é™¤ word1[i-1]ï¼Œç„¶å word1[0..i-2] è½¬æ¢ä¸º word2[0..j-1]

3. æ’å…¥ï¼šdp[i][j] = dp[i][j-1] + 1
   æ’å…¥ word2[j-1]ï¼Œç„¶å word1[0..i-1] è½¬æ¢ä¸º word2[0..j-2]

dp[i][j] = min(æ›¿æ¢, åˆ é™¤, æ’å…¥)
```

**åˆå§‹åŒ–**ï¼š
```cpp
dp[0][j] = j;  // word1ä¸ºç©ºï¼Œéœ€è¦æ’å…¥jä¸ªå­—ç¬¦
dp[i][0] = i;  // word2ä¸ºç©ºï¼Œéœ€è¦åˆ é™¤iä¸ªå­—ç¬¦
```

### å›¾è§£è¿‡ç¨‹

**ç¤ºä¾‹**ï¼š`word1 = "horse"`, `word2 = "ros"`

**DPè¡¨**ï¼š
```
        ""  r   o   s
    ""  0   1   2   3
    h   1   1   2   3
    o   2   2   1   2
    r   3   2   2   2
    s   4   3   3   2
    e   5   4   4   3
```

**å¡«è¡¨è¿‡ç¨‹**ï¼š
```
dp[1][1]: 'h' vs 'r'
  ä¸åŒï¼Œé€‰æ‹©ï¼š
  æ›¿æ¢: dp[0][0] + 1 = 1
  åˆ é™¤: dp[0][1] + 1 = 2
  æ’å…¥: dp[1][0] + 1 = 2
  dp[1][1] = 1

dp[2][2]: 'o' vs 'o'
  ç›¸åŒï¼
  dp[2][2] = dp[1][1] = 1

dp[3][1]: 'r' vs 'r'
  ç›¸åŒï¼
  dp[3][1] = dp[2][0] = 2

...

æœ€ç»ˆ dp[5][3] = 3
```

### ä»£ç å®ç°

```cpp
class Solution {
public:
    int minDistance(string word1, string word2) {
        int m = word1.size();
        int n = word2.size();
        
        // ç‰¹æ®Šæƒ…å†µ
        if (m == 0) return n;
        if (n == 0) return m;
        
        // dp[i][j]: word1çš„å‰iä¸ªå­—ç¬¦è½¬æ¢ä¸ºword2çš„å‰jä¸ªå­—ç¬¦çš„æœ€å°‘æ“ä½œæ•°
        vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));
        
        // åˆå§‹åŒ–
        for (int i = 0; i <= m; i++) {
            dp[i][0] = i;  // åˆ é™¤iä¸ªå­—ç¬¦
        }
        for (int j = 0; j <= n; j++) {
            dp[0][j] = j;  // æ’å…¥jä¸ªå­—ç¬¦
        }
        
        // å¡«è¡¨
        for (int i = 1; i <= m; i++) {
            for (int j = 1; j <= n; j++) {
                if (word1[i-1] == word2[j-1]) {
                    // å­—ç¬¦ç›¸åŒï¼Œä¸éœ€è¦æ“ä½œ
                    dp[i][j] = dp[i-1][j-1];
                } else {
                    // å­—ç¬¦ä¸åŒï¼Œä¸‰ç§é€‰æ‹©å–æœ€å°
                    dp[i][j] = min({
                        dp[i-1][j-1] + 1,  // æ›¿æ¢
                        dp[i-1][j] + 1,    // åˆ é™¤
                        dp[i][j-1] + 1     // æ’å…¥
                    });
                }
            }
        }
        
        return dp[m][n];
    }
};
```

### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(m Ã— n)ï¼Œä¸¤å±‚å¾ªç¯
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(m Ã— n)ï¼ŒDPè¡¨

---

## ä¼˜åŒ–ï¼šç©ºé—´ä¼˜åŒ–ï¼ˆæ»šåŠ¨æ•°ç»„ï¼‰

### æ€è·¯
ç”±äº `dp[i][j]` åªä¾èµ–äºä¸Šä¸€è¡Œå’Œå½“å‰è¡Œï¼Œå¯ä»¥ç”¨ä¸€ç»´æ•°ç»„ä¼˜åŒ–ã€‚

### ä»£ç å®ç°

```cpp
class Solution {
public:
    int minDistance(string word1, string word2) {
        int m = word1.size();
        int n = word2.size();
        
        if (m == 0) return n;
        if (n == 0) return m;
        
        // åªç”¨ä¸€ç»´æ•°ç»„
        vector<int> dp(n + 1);
        
        // åˆå§‹åŒ–ç¬¬ä¸€è¡Œ
        for (int j = 0; j <= n; j++) {
            dp[j] = j;
        }
        
        // é€è¡Œè®¡ç®—
        for (int i = 1; i <= m; i++) {
            int prev = dp[0];  // ä¿å­˜å·¦ä¸Šè§’çš„å€¼
            dp[0] = i;         // åˆå§‹åŒ–å½“å‰è¡Œçš„ç¬¬ä¸€åˆ—
            
            for (int j = 1; j <= n; j++) {
                int temp = dp[j];  // ä¿å­˜å½“å‰å€¼ï¼ˆä¸‹ä¸€æ¬¡çš„å·¦ä¸Šè§’ï¼‰
                
                if (word1[i-1] == word2[j-1]) {
                    dp[j] = prev;  // ç­‰äºå·¦ä¸Šè§’
                } else {
                    dp[j] = min({
                        prev + 1,      // æ›¿æ¢ï¼ˆå·¦ä¸Šè§’ï¼‰
                        dp[j] + 1,     // åˆ é™¤ï¼ˆä¸Šæ–¹ï¼‰
                        dp[j-1] + 1    // æ’å…¥ï¼ˆå·¦è¾¹ï¼‰
                    });
                }
                
                prev = temp;  // æ›´æ–°å·¦ä¸Šè§’
            }
        }
        
        return dp[n];
    }
};
```

### å¤æ‚åº¦åˆ†æ
- **æ—¶é—´å¤æ‚åº¦**ï¼šO(m Ã— n)
- **ç©ºé—´å¤æ‚åº¦**ï¼šO(n)ï¼Œåªç”¨ä¸€ç»´æ•°ç»„

---

## æ ¸å¿ƒçŸ¥è¯†ç‚¹

### 1. DPçŠ¶æ€è½¬ç§»çš„ç†è§£

**ä¸‰ç§æ“ä½œçš„æœ¬è´¨**ï¼š

**æ›¿æ¢**ï¼š
```
word1: a b c [d]
word2: a b c [e]
       â†‘     â†‘
    åŒ¹é…çš„   ä¸åŒï¼Œæ›¿æ¢dâ†’e
```

**åˆ é™¤**ï¼š
```
word1: a b c [d]
word2: a b c
       â†‘
    åˆ é™¤dï¼Œç»§ç»­åŒ¹é…
```

**æ’å…¥**ï¼š
```
word1: a b c
word2: a b c [e]
       â†‘     â†‘
    æ’å…¥eï¼Œç»§ç»­åŒ¹é…
```

### 2. ä¸ºä»€ä¹ˆæ˜¯è¿™ä¸‰ç§æ“ä½œï¼Ÿ

- **æ’å…¥**å’Œ**åˆ é™¤**æ˜¯å¯¹ç§°çš„
  - åœ¨ word1 åˆ é™¤ä¸€ä¸ªå­—ç¬¦ = åœ¨ word2 æ’å…¥ä¸€ä¸ªå­—ç¬¦
- **æ›¿æ¢**å¯ä»¥çœ‹ä½œåˆ é™¤+æ’å…¥
  - ä½†æ›¿æ¢åªéœ€1æ­¥ï¼Œåˆ é™¤+æ’å…¥éœ€è¦2æ­¥

### 3. DPè¡¨çš„å«ä¹‰

```
dp[i][j] è¡¨ç¤ºï¼š
  word1[0..i-1] è½¬æ¢ä¸º word2[0..j-1] çš„æœ€å°‘æ“ä½œæ•°
```

**æ³¨æ„**ï¼šç´¢å¼•æ˜¯ä»1å¼€å§‹çš„ï¼
- `dp[0][j]`ï¼šword1ä¸ºç©º
- `dp[i][0]`ï¼šword2ä¸ºç©º

---

## é€’å½’ç†è§£ï¼ˆè‡ªé¡¶å‘ä¸‹ï¼‰

### é€’å½’ç‰ˆæœ¬ï¼ˆå¸¦å¤‡å¿˜å½•ï¼‰

```cpp
class Solution {
public:
    int minDistance(string word1, string word2) {
        int m = word1.size();
        int n = word2.size();
        vector<vector<int>> memo(m, vector<int>(n, -1));
        return helper(word1, word2, m - 1, n - 1, memo);
    }
    
private:
    int helper(const string& word1, const string& word2, 
               int i, int j, vector<vector<int>>& memo) {
        // base case
        if (i < 0) return j + 1;  // word1ç”¨å®Œï¼Œæ’å…¥word2å‰©ä½™å­—ç¬¦
        if (j < 0) return i + 1;  // word2ç”¨å®Œï¼Œåˆ é™¤word1å‰©ä½™å­—ç¬¦
        
        // æŸ¥å¤‡å¿˜å½•
        if (memo[i][j] != -1) return memo[i][j];
        
        int res;
        if (word1[i] == word2[j]) {
            // å­—ç¬¦ç›¸åŒ
            res = helper(word1, word2, i - 1, j - 1, memo);
        } else {
            // å­—ç¬¦ä¸åŒï¼Œä¸‰ç§é€‰æ‹©
            res = min({
                helper(word1, word2, i - 1, j - 1, memo) + 1,  // æ›¿æ¢
                helper(word1, word2, i - 1, j, memo) + 1,      // åˆ é™¤
                helper(word1, word2, i, j - 1, memo) + 1       // æ’å…¥
            });
        }
        
        // è®°å½•
        memo[i][j] = res;
        return res;
    }
};
```

---

## å®æˆ˜åº”ç”¨

1. **æ‹¼å†™æ£€æŸ¥**ï¼šæ‰¾å‡ºæœ€ç›¸ä¼¼çš„å•è¯
2. **DNAåºåˆ—æ¯”å¯¹**ï¼šç”Ÿç‰©ä¿¡æ¯å­¦
3. **ç‰ˆæœ¬æ§åˆ¶**ï¼šdiffå·¥å…·
4. **æœºå™¨ç¿»è¯‘**ï¼šè¡¡é‡ç¿»è¯‘è´¨é‡
5. **æœç´¢å¼•æ“**ï¼šæ¨¡ç³Šæœç´¢

---

## å¸¸è§å˜å¼

1. **åªèƒ½æ’å…¥å’Œåˆ é™¤**ï¼š
   - DPè½¬ç§»åªè€ƒè™‘ä¸¤ç§æ“ä½œ

2. **æ¯ç§æ“ä½œæˆæœ¬ä¸åŒ**ï¼š
   - æ’å…¥æˆæœ¬aï¼Œåˆ é™¤æˆæœ¬bï¼Œæ›¿æ¢æˆæœ¬c
   - `dp[i][j] = min(dp[i-1][j-1] + c, dp[i-1][j] + b, dp[i][j-1] + a)`

3. **æœ€é•¿å…¬å…±å­åºåˆ—ï¼ˆLCSï¼‰**ï¼š
   - åªèƒ½åˆ é™¤ï¼Œæ±‚æœ€å°‘åˆ é™¤æ¬¡æ•°ä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŒ
   - `minDel = (m - lcs) + (n - lcs)`

---

## å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šç´¢å¼•æ··æ·†
```cpp
// âŒ é”™è¯¯
if (word1[i] == word2[j]) {
    dp[i][j] = dp[i-1][j-1];
}

// âœ… æ­£ç¡®ï¼ˆdpæ•°ç»„ç´¢å¼•ä»1å¼€å§‹ï¼‰
if (word1[i-1] == word2[j-1]) {
    dp[i][j] = dp[i-1][j-1];
}
```

### é”™è¯¯2ï¼šåˆå§‹åŒ–é”™è¯¯
```cpp
// âŒ é”™è¯¯ï¼ˆå¿˜è®°åˆå§‹åŒ–ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼‰
vector<vector<int>> dp(m + 1, vector<int>(n + 1, 0));

// âœ… æ­£ç¡®
for (int i = 0; i <= m; i++) dp[i][0] = i;
for (int j = 0; j <= n; j++) dp[0][j] = j;
```

### é”™è¯¯3ï¼šè¾¹ç•Œæ¡ä»¶
```cpp
// ç‰¹æ®Šæƒ…å†µå¤„ç†
if (m == 0) return n;
if (n == 0) return m;
```

---

## è°ƒè¯•æŠ€å·§

### æ‰“å°DPè¡¨
```cpp
void printDP(const vector<vector<int>>& dp, 
             const string& word1, const string& word2) {
    int m = word1.size();
    int n = word2.size();
    
    // æ‰“å°åˆ—æ ‡é¢˜
    cout << "      ";
    for (int j = 0; j < n; j++) {
        cout << word2[j] << "  ";
    }
    cout << endl;
    
    // æ‰“å°æ¯ä¸€è¡Œ
    for (int i = 0; i <= m; i++) {
        if (i == 0) {
            cout << "   ";
        } else {
            cout << word1[i-1] << "  ";
        }
        
        for (int j = 0; j <= n; j++) {
            cout << dp[i][j] << "  ";
        }
        cout << endl;
    }
}
```

---

## C++å®ç”¨æŠ€å·§

### 1. minå‡½æ•°ï¼ˆä¸‰ä¸ªæ•°ï¼‰
```cpp
// æ–¹æ³•1ï¼šC++11ï¼ˆæ¨èï¼‰
int minVal = min({a, b, c});

// æ–¹æ³•2ï¼šåµŒå¥—min
int minVal = min(a, min(b, c));

// æ–¹æ³•3ï¼šè‡ªå®šä¹‰å‡½æ•°
int min3(int a, int b, int c) {
    return min(a, min(b, c));
}
```

### 2. vectoråˆå§‹åŒ–
```cpp
// ä¸€ç»´vector
vector<int> dp(n, 0);  // nä¸ªå…ƒç´ ï¼Œåˆå€¼ä¸º0

// äºŒç»´vector
vector<vector<int>> dp(m, vector<int>(n, 0));

// åŠ¨æ€æ‰©å±•
vector<int> dp;
dp.resize(n, 0);
```

### 3. å¼•ç”¨å‡å°‘æ‹·è´
```cpp
// ä¼ é€’å¤§å‹å®¹å™¨æ—¶ä½¿ç”¨constå¼•ç”¨
int helper(const string& word1, const string& word2) {
    // word1å’Œword2ä¸ä¼šè¢«æ‹·è´
}
```

---

## æ€»ç»“

**ç¼–è¾‘è·ç¦»**æ˜¯ç»å…¸çš„DPé—®é¢˜ï¼Œé‡ç‚¹æŒæ¡ï¼š

1. **çŠ¶æ€å®šä¹‰**ï¼š`dp[i][j]` = word1å‰iä¸ªå­—ç¬¦è½¬æ¢ä¸ºword2å‰jä¸ªå­—ç¬¦çš„æœ€å°‘æ“ä½œæ•°
2. **çŠ¶æ€è½¬ç§»**ï¼š
   - ç›¸åŒï¼š`dp[i][j] = dp[i-1][j-1]`
   - ä¸åŒï¼š`dp[i][j] = min(æ›¿æ¢, åˆ é™¤, æ’å…¥) + 1`
3. **åˆå§‹åŒ–**ï¼š`dp[0][j] = j`, `dp[i][0] = i`
4. **ç©ºé—´ä¼˜åŒ–**ï¼šæ»šåŠ¨æ•°ç»„ä¼˜åŒ–åˆ° O(n)

**é¢è¯•å»ºè®®**ï¼š
- æ¸…æ™°è§£é‡Šä¸‰ç§æ“ä½œçš„å«ä¹‰
- ç”»å‡ºDPè¡¨å¸®åŠ©ç†è§£
- èƒ½å¤Ÿè¿›è¡Œç©ºé—´ä¼˜åŒ–
- çŸ¥é“å®é™…åº”ç”¨åœºæ™¯

è¿™æ˜¯DPçš„ç»å…¸é¢˜ç›®ï¼ŒåŠ¡å¿…å®Œå…¨æŒæ¡ï¼ğŸ¯
