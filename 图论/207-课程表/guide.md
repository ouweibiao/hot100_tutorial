# 207. 课程表

## 题目描述

你这个学期必须选修 `numCourses` 门课程，记为 `0` 到 `numCourses - 1` 。
在选修某些课程之前需要一些先修课程。 先修课程按数组 `prerequisites` 给出，其中 `prerequisites[i] = [ai, bi]` ，表示如果要学习课程 `ai` 则 **必须** 先学习课程  `bi` 。

请你判断是否可能完成所有课程的学习？如果可以，返回 `true` ；否则，返回 `false` 。

**示例 1：**
```
输入：numCourses = 2, prerequisites = [[1,0]]
输出：true
```

---

## 解法：拓扑排序

### 核心思路
课程表问题是经典的**依赖关系**问题，可以建模为**有向图**。
如果图中存在环，则无法完成所有课程。
如果没有环（DAG），则可以完成。

判断有向图是否有环，常用的方法是**拓扑排序**。
拓扑排序的思想是：
1. 总是先选择没有前置依赖（入度为 0）的任务。
2. 完成该任务后，将其移除，并移除它对后续任务的依赖影响。
3. 重复此过程，直到所有任务完成，或者没有入度为 0 的任务可选（此时若还有任务未完成，说明有环）。

### 算法流程 (Kahn 算法)
1. **建图**：统计每个节点的入度，并构建邻接表。
2. **初始化**：将所有入度为 0 的节点加入队列。
3. **循环**：
   - 弹出队首节点，计数器 +1。
   - 遍历该节点的邻居，将邻居的入度减 1。
   - 如果邻居的入度变为 0，加入队列。
4. **结果**：如果计数器等于节点总数，说明没有环。

### 复杂度
- 时间复杂度：O(V + E)。
- 空间复杂度：O(V + E)。
